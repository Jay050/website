/**
 * @mux/mux-data-shakaplayer
 * @version 5.3.12
 * @copyright 2022 Mux, Inc.
 * @license
 */
(function(){var define=false;
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("initShakaPlayerMux",[],t):"object"==typeof exports?exports.initShakaPlayerMux=t():e.initShakaPlayerMux=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(a[r])return a[r].exports;var i=a[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,a){"use strict";e.exports=a(1).default},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){function a(t){return e.getMediaElement()&&e.getMediaElement()[t]}function r(t){var a=e.getMediaElement();if(a)return parseInt(_(a,t))}function i(){var e=a("preload");return"auto"===e||"metadata"===e}function o(){var t=s.default.fullscreenElement||s.default.webkitFullscreenElement||s.default.mozFullScreenElement||s.default.msFullscreenElement;return t?t===e.getMediaElement():void 0}function u(){w=!0;var t=e.getMediaElement();if(!t)return l.warn("[shakaPlayer-mux] Unable to getMediaElement() on shaka.Player instance when attempting to attachMediaElementEvents()");y.forEach(function(a){g[a]=function(){var r={};"timeupdate"===a&&(r.player_playhead_time=t.currentTime),e.mux.emit(a,r)},t.addEventListener(a,g[a],!1)})}var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.shaka;if("object"!==(void 0===e?"undefined":n(e))||void 0===e.constructor.version)return l.warn("[shakaPlayer-mux] You must provide a valid shakaPlayer to initShakaPlayerMux."),{emit:function(){l.warn("[shakaPlayer-mux] emit is a no-op because initShakaPlayerMux was not initialized correctly")},loadErrorHandler:function(){l.warn("[shakaPlayer-mux] loadErrorHandler is a no-op because initShakaPlayerMux was not initialized correctly")}};var v={};try{Object.keys(p.util.Error.Category).forEach(function(e,t){var a=p.util.Error.Category[e];v[a]=e})}catch(e){l.warn("[shakaPlayer-mux] Error creating map of ERROR_CATEGORY_CODES.")}t=f({automaticErrorTracking:!0},t),t.data=f({player_software_name:"Shaka Player",player_software_version:e.constructor.version,player_mux_plugin_name:"shakaplayer-mux",player_mux_plugin_version:"5.3.12"},t.data);var m=d.default.utils.generateShortID();e.mux={},e.mux.emit=function(e,t){d.default.emit(m,e,t)},t.getPlayheadTime=function(){return c(a("currentTime"))},t.getStateData=function(){return{player_is_paused:a("paused"),player_width:r("width"),player_height:r("height"),video_source_height:e.getStats().height,video_source_width:e.getStats().width,player_is_fullscreen:o(),player_autoplay_on:a("autoplay"),player_preload_on:i(),video_source_url:e.getAssetUri(),video_source_duration:c(a("duration")),video_poster_url:a("poster"),player_language_code:a("lang")}};var y=["pause","play","playing","seeking","seeked","timeupdate","stalled","waiting","ended"],g={},b={},w=!1;b.onstatechange=function(t){!w&&e.getMediaElement()&&u(),"load"===t.state&&e.mux.emit("playerready")};var T=void 0,E=function(){var t=e.getVariantTracks(),a=t&&t.filter(function(e){return e.active}),r=a&&a.map(function(e){return e.bandwidth});return r&&r.reduce(function(e,t){return e+t},0)},x=function(){var t=E();t&&t!==T&&(T=t,e.mux.emit("renditionchange",{video_source_bitrate:T}))};b.adaptation=function(e){x()},b.variantchanged=function(e){x()},e.addEventListener("onstatechange",b.onstatechange),e.addEventListener("adaptation",b.adaptation),e.addEventListener("variantchanged",b.variantchanged);var k=function(e){return e.message?e.message:v[e.category]||e.category},D=function(t){2===t.severity&&e.mux.emit("error",{player_error_code:t&&t.code,player_error_message:t&&k(t)})};b.error=function(e){if(t.automaticErrorTracking){var a=e.detail;D(a)}},e.addEventListener("error",b.error),e.mux.destroy=function(){Object.keys(b).forEach(function(t){e.removeEventListener(t,b[t]),delete b[t]}),Object.keys(g).forEach(function(t){var a=e.getMediaElement();a&&a.removeEventListener(t,g[t],!1),delete g[t]}),e.mux.emit("destroy")};var S={0:"manifest",1:"media"};return e.getNetworkingEngine().registerResponseFilter(function(t,a){var r=d.default.utils.now();if(!a.fromCache){var i=S[t&&t.toString()];if(t){var n=a.data.byteLength,o={request_bytes_loaded:n,request_hostname:h(a.uri),request_response_headers:a.headers,request_type:i,request_start:a.timeMs?r-a.timeMs:void 0,request_response_end:r};e.mux.emit("requestcompleted",o)}}}),d.default.init(m,t),{emit:e.mux.emit,loadErrorHandler:D}}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i;var o=a(2),s=r(o),u=a(5),d=r(u),l=d.default.log,c=d.default.utils.secondsToMs,f=d.default.utils.assign,_=d.default.utils.getComputedStyle,h=d.default.utils.extractHostname},function(e,t,a){(function(t){var r,i=void 0!==t?t:"undefined"!=typeof window?window:{},n=a(4);"undefined"!=typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=n),e.exports=r}).call(t,a(3))},function(e,t){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(a=window)}e.exports=a},function(e,t){},function(e,t,a){!function(){!function(t,a){e.exports=a()}("undefined"!=typeof self&&self,function(){return function(e){function t(r){if(a[r])return a[r].exports;var i=a[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=14)}([function(e,t,a){(function(t){var a;a="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=a}).call(t,a(8))},function(e,t){function a(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function r(e,t){for(var a=-1,r=Array(e);++a<e;)r[a]=t(a);return r}function i(e,t){var a=O(e)||_(e)?r(e.length,String):[],i=a.length,n=!!i;for(var o in e)!t&&!S.call(e,o)||n&&("length"==o||d(o,i))||a.push(o);return a}function n(e,t,a){var r=e[t];S.call(e,t)&&f(r,a)&&(void 0!==a||t in e)||(e[t]=a)}function o(e){if(!c(e))return M(e);var t=[];for(var a in Object(e))S.call(e,a)&&"constructor"!=a&&t.push(a);return t}function s(e,t){return t=A(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,n=A(r.length-t,0),o=Array(n);++i<n;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=o,a(e,this,s)}}function u(e,t,a,r){a||(a={});for(var i=-1,o=t.length;++i<o;){var s=t[i],u=r?r(a[s],e[s],s,a,e):void 0;n(a,s,void 0===u?e[s]:u)}return a}function d(e,t){return!!(t=null==t?w:t)&&("number"==typeof e||k.test(e))&&e>-1&&e%1==0&&e<t}function l(e,t,a){if(!y(a))return!1;var r=typeof t;return!!("number"==r?h(a)&&d(t,a.length):"string"==r&&t in a)&&f(a[t],e)}function c(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||D)}function f(e,t){return e===t||e!==e&&t!==t}function _(e){return p(e)&&S.call(e,"callee")&&(!q.call(e,"callee")||P.call(e)==T)}function h(e){return null!=e&&m(e.length)&&!v(e)}function p(e){return g(e)&&h(e)}function v(e){var t=y(e)?P.call(e):"";return t==E||t==x}function m(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=w}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){return!!e&&"object"==typeof e}function b(e){return h(e)?i(e):o(e)}var w=9007199254740991,T="[object Arguments]",E="[object Function]",x="[object GeneratorFunction]",k=/^(?:0|[1-9]\d*)$/,D=Object.prototype,S=D.hasOwnProperty,P=D.toString,q=D.propertyIsEnumerable,M=function(e,t){return function(a){return e(t(a))}}(Object.keys,Object),A=Math.max,R=!q.call({valueOf:1},"valueOf"),O=Array.isArray,I=function(e){return s(function(t,a){var r=-1,i=a.length,n=i>1?a[i-1]:void 0,o=i>2?a[2]:void 0;for(n=e.length>3&&"function"==typeof n?(i--,n):void 0,o&&l(a[0],a[1],o)&&(n=i<3?void 0:n,i=1),t=Object(t);++r<i;){var s=a[r];s&&e(t,s)}return t})}(function(e,t){if(R||c(t)||h(t))return void u(t,b(t),e);for(var a in t)S.call(t,a)&&n(e,a,t[a])});e.exports=I},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r),n={};n.now=function(){var e=i.default.performance,t=e&&e.timing;return t&&"number"==typeof t.navigationStart&&"function"==typeof e.now?t.navigationStart+e.now():Date.now()},t.default=n},function(e,t,a){"use strict";function r(e,t,a){a=void 0===a?1:a,e[t]=e[t]||0,e[t]+=a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(16),i=function(e){return e&&e.__esModule?e:{default:e}}(r),n=i.default.methodFactory;i.default.methodFactory=function(e,t,a){var r=n(e,t,a);return function(){for(var e=["[mux]"],t=0;t<arguments.length;t++)e.push(arguments[t]);r.apply(void 0,e)}},i.default.setLevel(i.default.getLevel()),t.default=i.default},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return n(e)[0]},i=function(e){return n(e)[1]},n=function(e){if("string"!=typeof e||""===e)return["localhost"];var t=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,a=e.match(t)||[],r=a[4],i=void 0;return r&&(i=(r.match(/[^\.]+\.[^\.]+$/)||[])[0]),[r,i]};t.extractHostnameAndDomain=n,t.extractHostname=r,t.extractDomain=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},i=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)};t.generateUUID=r,t.generateShortID=i},function(e,t,a){"use strict";function r(e){e=e||"";var t={};return e.trim().split(/[\r\n]+/).forEach(function(e){if(e){var a=e.split(": "),r=a.shift();r&&(i.indexOf(r.toLowerCase())>=0||0===r.toLowerCase().indexOf("x-litix-"))&&(t[r]=a.join(": "))}}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=["x-cdn","content-type"]},function(e,t){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(a=window)}e.exports=a},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMediaElement=t.getMuxPlayerId=void 0;var r=a(6),i=function(e){return e&&void 0!==e.nodeName?(e.muxId||(e.muxId=e.id||(0,r.generateShortID)()),e.muxId):e},n=function(e){var t=void 0;return e&&void 0!==e.nodeName?(t=e,e=i(t)):t=document.querySelector(e),[t,e,t&&t.nodeName?t.nodeName.toLowerCase():""]};t.getMuxPlayerId=i,t.findMediaElement=n},function(e,t,a){"use strict";function r(){return"1"===(n.default.doNotTrack||n.default.navigator&&(n.default.navigator.doNotTrack||n.default.navigator.msDoNotTrack))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(0),n=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r),n={};n.exists=function(){var e=i.default.performance;return void 0!==(e&&e.timing)},n.domContentLoadedEventEnd=function(){var e=i.default.performance,t=e&&e.timing;return t&&t.domContentLoadedEventEnd},n.navigationStart=function(){var e=i.default.performance,t=e&&e.timing;return t&&t.navigationStart},t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t={};for(var a in e){var r=e[a];-1!==r["DATA-ID"].search("io.litix.data.")&&(t[r["DATA-ID"].replace("io.litix.data.","")]=r.VALUE)}return t};t.default=r},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[e[a]]=a);return t}function n(e){var t={},a={};return Object.keys(e).forEach(function(r){var i=!1;if(e.hasOwnProperty(r)&&void 0!==e[r]){var n=r.split("_"),o=n[0],u=c[o];u||(s.default.info("Data key word `"+n[0]+"` not expected in "+r),u=o+"_"),n.splice(1).forEach(function(e){"url"===e&&(i=!0),_[e]?u+=_[e]:Number(e)&&Math.floor(Number(e))===Number(e)?u+=e:(s.default.info("Data key word `"+e+"` not expected in "+r),u+="_"+e+"_")}),i?a[u]=e[r]:t[u]=e[r]}}),(0,d.default)(t,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o=a(4),s=r(o),u=a(1),d=r(u),l={a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"},c=i(l),f={ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cd:"code",cg:"category",ch:"changed",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",du:"duration",dv:"device",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ep:"experiments",fi:"first",fm:"family",ft:"format",fq:"frequency",fr:"frame",fs:"fullscreen",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"},_=i(f)},function(e,t,a){"use strict";e.exports=a(15).default},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var a=[],r=!0,i=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){i=!0,n=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=a(0),o=r(n),s=a(9),u=a(4),d=r(u),l=a(10),c=r(l),f=a(2),_=r(f),h=a(17),p=r(h),v=a(43),m=r(v),y=a(47),g=r(y),b=a(52),w=r(b),T={},E=function e(t){var a=arguments;"string"==typeof t?e.hasOwnProperty(t)?o.default.setTimeout(function(){a=Array.prototype.splice.call(a,1),e[t].apply(null,a)},0):d.default.warn("`"+t+"` is an unknown task"):"function"==typeof t?o.default.setTimeout(function(){t(e)},0):d.default.warn("`"+t+"` is invalid.")};E.loaded=_.default.now(),E.NAME="mux-embed",E.VERSION="4.12.0",E.API_VERSION="2.1",E.PLAYER_TRACKED=!1,E.monitor=function(e,t){return(0,m.default)(E,e,t)},E.destroyMonitor=function(e){var t=(0,s.findMediaElement)(e),a=i(t,1),r=a[0];r&&r.mux&&"function"==typeof r.mux.destroy?r.mux.destroy():d.default.error("A video element monitor for `"+e+"` has not been initialized via `mux.monitor`.")},E.addHLSJS=function(e,t){var a=(0,s.getMuxPlayerId)(e);T[a]?T[a].addHLSJS(t):d.default.error("A monitor for `"+a+"` has not been initialized.")},E.addDashJS=function(e,t){var a=(0,s.getMuxPlayerId)(e);T[a]?T[a].addDashJS(t):d.default.error("A monitor for `"+a+"` has not been initialized.")},E.removeHLSJS=function(e){var t=(0,s.getMuxPlayerId)(e);T[t]?T[t].removeHLSJS():d.default.error("A monitor for `"+t+"` has not been initialized.")},E.removeDashJS=function(e){var t=(0,s.getMuxPlayerId)(e);T[t]?T[t].removeDashJS():d.default.error("A monitor for `"+t+"` has not been initialized.")},E.init=function(e,t){(0,c.default)()&&t&&t.respectDoNotTrack&&d.default.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var a=(0,s.getMuxPlayerId)(e);T[a]=new p.default(E,a,t)},E.emit=function(e,t,a){var r=(0,s.getMuxPlayerId)(e);T[r]?(T[r].emit(t,a),"destroy"===t&&delete T[r]):d.default.error("A monitor for `"+r+"` has not been initialized.")},void 0!==o.default&&"function"==typeof o.default.addEventListener&&o.default.addEventListener("pagehide",function(e){e.persisted||(E.WINDOW_UNLOADING=!0)},!1),E.checkDoNotTrack=c.default,E.log=d.default,E.utils=g.default,E.events=w.default,t.default=E},function(e,t,a){var r,i;!function(n,o){"use strict";r=o,void 0!==(i="function"==typeof r?r.call(t,a,t,e):r)&&(e.exports=i)}(0,function(){"use strict";function e(e,t){var a=e[t];if("function"==typeof a.bind)return a.bind(e);try{return Function.prototype.bind.call(a,e)}catch(t){return function(){return Function.prototype.apply.apply(a,[e,arguments])}}}function t(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(a){return"debug"===a&&(a="log"),typeof console!==u&&("trace"===a&&d?t:void 0!==console[a]?e(console,a):void 0!==console.log?e(console,"log"):s)}function r(e,t){for(var a=0;a<l.length;a++){var r=l[a];this[r]=a<e?s:this.methodFactory(r,e,t)}this.log=this.debug}function i(e,t,a){return function(){typeof console!==u&&(r.call(this,t,a),this[e].apply(this,arguments))}}function n(e,t,r){return a(e)||i.apply(this,arguments)}function o(e,t,a){function i(e){var t=(l[e]||"silent").toUpperCase();if(typeof window!==u&&f){try{return void(window.localStorage[f]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"="+t+";"}catch(e){}}}function o(){var e;if(typeof window!==u&&f){try{e=window.localStorage[f]}catch(e){}if(typeof e===u)try{var t=window.document.cookie,a=t.indexOf(encodeURIComponent(f)+"=");-1!==a&&(e=/^([^;]+)/.exec(t.slice(a))[1])}catch(e){}return void 0===c.levels[e]&&(e=void 0),e}}function s(){if(typeof window!==u&&f){try{return void window.localStorage.removeItem(f)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}var d,c=this;t=null==t?"WARN":t;var f="loglevel";"string"==typeof e?f+=":"+e:"symbol"==typeof e&&(f=void 0),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=a||n,c.getLevel=function(){return d},c.setLevel=function(t,a){if("string"==typeof t&&void 0!==c.levels[t.toUpperCase()]&&(t=c.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(d=t,!1!==a&&i(t),r.call(c,t,e),typeof console===u&&t<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(e){t=e,o()||c.setLevel(e,!1)},c.resetLevel=function(){c.setLevel(t,!1),s()},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)};var _=o();null==_&&(_=t),c.setLevel(_,!1)}var s=function(){},u="undefined",d=typeof window!==u&&typeof window.navigator!==u&&/Trident\/|MSIE /.test(window.navigator.userAgent),l=["trace","debug","info","warn","error"],c=new o,f={};c.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new o(e,c.getLevel(),c.methodFactory)),t};var _=typeof window!==u?window.log:void 0;return c.noConflict=function(){return typeof window!==u&&window.log===c&&(window.log=_),c},c.getLoggers=function(){return f},c.default=c,c})},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var a=[],r=!0,i=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){i=!0,n=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=a(4),o=r(n),s=a(1),u=r(s),d=a(6),l=a(5),c=a(0),f=r(c),_=a(11),h=r(_),p=a(3),v=r(p),m=a(18),y=a(19),g=a(20),b=r(g),w=a(21),T=r(w),E=a(22),x=r(E),k=a(23),D=r(k),S=a(24),P=r(S),q=a(25),M=r(q),A=a(26),R=r(A),O=a(27),I=r(O),L=a(28),N=r(L),H=a(29),j=r(H),C=a(30),U=r(C),B=a(31),F=r(B),G=a(32),J=r(G),V=a(33),Q=r(V),W=a(34),z=r(W),X=a(41),Y=r(X),K=a(42),$=r(K),Z=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],ee=function(e,t,a){var r=this;this.DOM_CONTENT_LOADED_EVENT_END=h.default.domContentLoadedEventEnd(),this.NAVIGATION_START=h.default.navigationStart();var i={debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(e){return e}};this.mux=e,this.id=t,a=(0,u.default)(i,a),a.data=a.data||{},a.data.property_key&&(a.data.env_key=a.data.property_key,delete a.data.property_key),o.default.setLevel(a.debug?"debug":"warn"),this.getPlayheadTime=a.getPlayheadTime,this.getStateData=a.getStateData||function(){},this.getAdData=a.getAdData||function(){},this.minimumRebufferDuration=a.minimumRebufferDuration,this.sustainedRebufferThreshold=a.sustainedRebufferThreshold,this.playbackHeartbeatTime=a.playbackHeartbeatTime,this.disableRebufferTracking=a.disableRebufferTracking,this.disableRebufferTracking&&this.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),this.disablePlayheadRebufferTracking=a.disablePlayheadRebufferTracking,this.errorTranslator=a.errorTranslator,this.playbackEventDispatcher=new z.default(e,a.data.env_key,a),this.data={player_instance_id:(0,d.generateUUID)(),mux_sample_rate:a.sampleRate,beacon_domain:a.beaconCollectionDomain?a.beaconCollectionDomain:a.beaconDomain},this.data.view_sequence_number=1,this.data.player_sequence_number=1,this.oldEmit=this.emit,this.emit=function(e,t){t=(0,u.default)({viewer_time:this.mux.utils.now()},t),this.oldEmit(e,t)};var n=function(){void 0===this.data.view_start&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}.bind(this);this.on("viewinit",function(e,t){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),(0,u.default)(this.data,t),this._initializeViewData(),this.one("play",n),this.one("adbreakstart",n)});var s=function(e){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",e)}.bind(this);if(this.on("videochange",function(e,t){s(t)}),this.on("programchange",function(e,t){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),s((0,u.default)(t,{view_program_changed:!0})),n(),this.emit("play"),this.emit("playing")}),this.on("fragmentchange",function(e,t){this.currentFragmentPDT=t.currentFragmentPDT,this.currentFragmentStart=t.currentFragmentStart}),this.on("destroy",this.destroy),void 0!==f.default&&"function"==typeof f.default.addEventListener&&"function"==typeof f.default.removeEventListener){var l=function(e){e.persisted||r.destroy()};f.default.addEventListener("pagehide",l,!1),this.on("destroy",function(){f.default.removeEventListener("pagehide",l)})}this.on("playerready",function(e,t){(0,u.default)(this.data,t)}),Z.forEach(function(e){r.on(e,function(t,a){0!==e.indexOf("ad")&&this._updateStateData(),(0,u.default)(this.data,a),this._sanitizeData()}),r.on("after"+e,function(){("error"!==e||this.viewErrored)&&this.send(e)})}),this.on("viewend",function(e,t){(0,u.default)(r.data,t)});var c=function(e){var t=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=t-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time};this.one("playerready",c),$.default.apply(this),x.default.apply(this),Q.default.apply(this),U.default.apply(this),M.default.apply(this),T.default.apply(this),j.default.apply(this),D.default.apply(this),P.default.apply(this),F.default.apply(this),R.default.apply(this),I.default.apply(this),N.default.apply(this),J.default.apply(this),Y.default.apply(this),a.hlsjs&&this.addHLSJS(a),a.dashjs&&this.addDashJS(a),this.emit("viewinit",a.data)};(0,u.default)(ee.prototype,b.default.prototype),(0,u.default)(ee.prototype,M.default.prototype),(0,u.default)(ee.prototype,U.default.prototype),(0,u.default)(ee.prototype,T.default.prototype),(0,u.default)(ee.prototype,D.default.prototype),(0,u.default)(ee.prototype,P.default.prototype),(0,u.default)(ee.prototype,F.default.prototype),(0,u.default)(ee.prototype,I.default.prototype),(0,u.default)(ee.prototype,N.default.prototype),ee.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,void 0!==this.data.view_start&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),f.default.clearTimeout(this._heartBeatTimeout))},ee.prototype.send=function(e){var t=(0,u.default)({},this.data),a=["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"];if(void 0===t.video_source_is_live&&(t.player_source_duration===1/0||t.video_source_duration===1/0?t.video_source_is_live=!0:(t.player_source_duration>0||t.video_source_duration>0)&&(t.video_source_is_live=!1)),t.video_source_is_live||a.forEach(function(e){t[e]=void 0}),t.video_source_url=t.video_source_url||t.player_source_url,t.video_source_url){var r=(0,l.extractHostnameAndDomain)(t.video_source_url),n=i(r,2),o=n[0],s=n[1];t.video_source_domain=s,t.video_source_hostname=o}delete t.ad_request_id,this.playbackEventDispatcher.send(e,t),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat()},ee.prototype._updateStateData=function(){(0,u.default)(this.data,this.getStateData()),this._updatePlayheadTime(),this._sanitizeData()},ee.prototype._sanitizeData=function(){var e=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"].forEach(function(t){var a=parseInt(e.data[t],10);e.data[t]=isNaN(a)?void 0:a}),["player_source_url","video_source_url"].forEach(function(t){if(e.data[t]){var a=e.data[t].toLowerCase();0!==a.indexOf("data:")&&0!==a.indexOf("blob:")||(e.data[t]="MSE style URL")}})},ee.prototype._resetVideoData=function(e,t){var a=this;Object.keys(this.data).forEach(function(e){0===e.indexOf("video_")&&delete a.data[e]})},ee.prototype._resetViewData=function(){var e=this;Object.keys(this.data).forEach(function(t){0===t.indexOf("view_")&&delete e.data[t]}),this.data.view_sequence_number=1},ee.prototype._resetErrorData=function(e,t){delete this.data.player_error_code,delete this.data.player_error_message},ee.prototype._initializeViewData=function(){var e=this,t=this.data.view_id=(0,d.generateUUID)(),a=function(){t===e.data.view_id&&(0,v.default)(e.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",a):a()},ee.prototype._restartHeartBeat=function(){var e=this;f.default.clearTimeout(this._heartBeatTimeout),this.viewErrored||(this._heartBeatTimeout=f.default.setTimeout(function(){e.data.player_is_paused||e.emit("hb")},1e4))},ee.prototype.addHLSJS=function(e){return e.hlsjs?this.hlsjs?void this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=e.hlsjs,void(0,m.monitorHlsJs)(this.mux,this.id,e.hlsjs,{},e.Hls||f.default.Hls)):void this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")},ee.prototype.removeHLSJS=function(){this.hlsjs&&((0,m.stopMonitoringHlsJs)(this.hlsjs),this.hlsjs=void 0)},ee.prototype.addDashJS=function(e){return e.dashjs?this.dashjs?void this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=e.dashjs,void(0,y.monitorDashJS)(this.mux,this.id,e.dashjs)):void this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")},ee.prototype.removeDashJS=function(){this.dashjs&&((0,y.stopMonitoringDashJS)(this.dashjs),this.dashjs=void 0)},t.default=ee},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoringHlsJs=t.monitorHlsJs=void 0;var i=a(7),n=r(i),o=a(11),s=r(o),u=a(5),d=a(12),l=r(d),c=function(e){if(!e)return{};var t=s.default.navigationStart(),a=e.loading,r=a?a.start:e.trequest,i=a?a.first:e.tfirst,n=a?a.end:e.tload;return{bytesLoaded:e.total,requestStart:Math.round(t+r),responseStart:Math.round(t+i),responseEnd:Math.round(t+n)}},f=function(e){if(e&&"function"==typeof e.getAllResponseHeaders)return(0,n.default)(e.getAllResponseHeaders())},_=function(e,t,a){var r=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments[4]),i=e.log,n=e.utils.secondsToMs,o=function(e){var t=parseInt(r.version),a=void 0;return 1===t&&null!==e.programDateTime&&(a=e.programDateTime),0===t&&null!==e.pdt&&(a=e.pdt),a};if(!s.default.exists())return void i.warn("performance timing not supported. Not tracking HLS.js.");var d=function(a,r){return e.emit(t,a,r)},_=function(e,t){var a=t.levels,r=t.audioTracks,i=t.url,n=t.stats,o=t.networkDetails,s=t.sessionData,_={},h={},p={};p=(0,l.default)(s),a.forEach(function(e,t){_[t]={width:e.width,height:e.height,bitrate:e.bitrate,attrs:e.attrs}}),r.forEach(function(e,t){h[t]={name:e.name,language:e.lang,bitrate:e.bitrate}});var v=c(n),m=v.bytesLoaded,y=v.requestStart,g=v.responseStart,b=v.responseEnd;p.request_event_type=e,p.request_bytes_loaded=m,p.request_start=y,p.request_response_start=g,p.request_response_end=b,p.request_type="manifest",p.request_hostname=(0,u.extractHostname)(i),p.request_response_headers=f(o),p.request_rendition_lists={media:_,audio:h,video:{}},d("requestcompleted",p)};a.on(r.Events.MANIFEST_LOADED,_);var h=function(e,t){var a=t.details,r=t.level,i=t.networkDetails,s=t.stats,l=c(s),_=l.bytesLoaded,h=l.requestStart,p=l.responseStart,v=l.responseEnd,m=a.fragments[a.fragments.length-1],y=o(m)+n(m.duration);d("requestcompleted",{request_event_type:e,request_bytes_loaded:_,request_start:h,request_response_start:p,request_response_end:v,request_current_level:r,request_type:"manifest",request_hostname:(0,u.extractHostname)(a.url),request_response_headers:f(i),video_holdback:a.holdBack&&n(a.holdBack),video_part_holdback:a.partHoldBack&&n(a.partHoldBack),video_part_target_duration:a.partTarget&&n(a.partTarget),video_target_duration:a.targetduration&&n(a.targetduration),video_source_is_live:a.live,player_manifest_newest_program_time:isNaN(y)?void 0:y})};a.on(r.Events.LEVEL_LOADED,h);var p=function(e,t){var a=t.details,r=t.networkDetails,i=t.stats,n=c(i),o=n.bytesLoaded,s=n.requestStart,l=n.responseStart,_=n.responseEnd;d("requestcompleted",{request_event_type:e,request_bytes_loaded:o,request_start:s,request_response_start:l,request_response_end:_,request_type:"manifest",request_hostname:(0,u.extractHostname)(a.url),request_response_headers:f(r)})};a.on(r.Events.AUDIO_TRACK_LOADED,p);var v=function(e,t){var r=t.stats,i=t.networkDetails,n=t.frag,o=c(r),s=o.bytesLoaded,l=o.requestStart,_=o.responseStart,h=o.responseEnd,p={request_event_type:e,request_bytes_loaded:s,request_start:l,request_response_start:_,request_response_end:h,request_hostname:i?(0,u.extractHostname)(i.responseURL):void 0,request_response_headers:f(i),request_media_duration:n.duration};"main"===n.type?(p.request_type="media",p.request_current_level=n.level,p.request_video_width=(a.levels[n.level]||{}).width,p.request_video_height=(a.levels[n.level]||{}).height):p.request_type=n.type,d("requestcompleted",p)};a.on(r.Events.FRAG_LOADED,v);var m=function(e,t){var a=t.frag,r=a.start,i=o(a),s={currentFragmentPDT:i,currentFragmentStart:n(r)};d("fragmentchange",s)};a.on(r.Events.FRAG_CHANGED,m);var y=function(e,t){var a=t.type,i=t.details,n=t.response,o=t.fatal,s=t.context,l=t.frag;if(i===r.ErrorDetails.MANIFEST_LOAD_ERROR||i===r.ErrorDetails.MANIFEST_LOAD_TIMEOUT||i===r.ErrorDetails.FRAG_LOAD_ERROR||i===r.ErrorDetails.FRAG_LOAD_TIMEOUT||i===r.ErrorDetails.LEVEL_LOAD_ERROR||i===r.ErrorDetails.LEVEL_LOAD_TIMEOUT){var c=l&&l.url||s&&s.url||"";d("requestfailed",{request_error:i,request_url:c,request_hostname:(0,u.extractHostname)(c),request_type:i===r.ErrorDetails.FRAG_LOAD_ERROR||i===r.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":"manifest",request_error_code:n&&n.code,request_error_text:n&&n.text})}o&&d("error",{player_error_code:a,player_error_message:i})};a.on(r.Events.ERROR,y);var g=function(e,t){var a=t.frag,r=a&&a._url||"";d("requestcanceled",{request_cancel:e,request_url:r,request_type:"media",request_hostname:(0,u.extractHostname)(r)})};a.on(r.Events.FRAG_LOAD_EMERGENCY_ABORTED,g);var b=function(e,t){var r=t.level,n=a.levels[r];if(n&&n.attrs&&n.attrs.BANDWIDTH){var o=n.attrs.BANDWIDTH;o?d("renditionchange",{video_source_bitrate:o,video_source_width:n.width,video_source_height:n.height}):i.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};a.on(r.Events.LEVEL_SWITCHED,b),a._stopMuxMonitor=function(){a.off(r.Events.MANIFEST_LOADED,_),a.off(r.Events.LEVEL_LOADED,h),a.off(r.Events.AUDIO_TRACK_LOADED,p),a.off(r.Events.FRAG_LOADED,v),a.off(r.Events.FRAG_CHANGED,m),a.off(r.Events.ERROR,y),a.off(r.Events.FRAG_LOAD_EMERGENCY_ABORTED,g),a.off(r.Events.LEVEL_SWITCHED,b),a.off(r.Events.DESTROYING,a._stopMuxMonitor),delete a._stopMuxMonitor},a.on(r.Events.DESTROYING,a._stopMuxMonitor)},h=function(e){e&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor()};t.monitorHlsJs=_,t.stopMonitoringHlsJs=h},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoringDashJS=t.monitorDashJS=void 0;var i=a(0),n=r(i),o=a(7),s=r(o),u=a(5),d=function(e,t){if(!e||"function"!=typeof e.getRequests)return{};var a=e.getRequests({state:"executed"});if(0===a.length)return{};var r=a[a.length-1],i=(0,u.extractHostname)(r.url),n=r.bytesLoaded,o=new Date(r.requestStartDate).getTime(),d=new Date(r.firstByteDate).getTime(),l=new Date(r.requestEndDate).getTime(),c=isNaN(r.duration)?0:r.duration,f="function"==typeof t.getMetricsFor?t.getMetricsFor(r.mediaType).HttpList:t.getDashMetrics().getHttpRequests(r.mediaType),_=void 0;return f.length>0&&(_=(0,s.default)(f[f.length-1]._responseHeaders||"")),{requestStart:o,requestResponseStart:d,requestResponseEnd:l,requestBytesLoaded:n,requestResponseHeaders:_,requestMediaDuration:c,requestHostname:i}},l=function(e,t){var a=t.getQualityFor(e),r=t.getCurrentTrackFor(e),i=r.bitrateList;return i?{currentLevel:a,renditionWidth:i[a].width||null,renditionHeight:i[a].height||null,renditionBitrate:i[a].bandwidth}:{}},c=function(e,t,a){var r=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],e.log);if(!a||!a.on)return void r.warn("Invalid dash.js player reference. Monitoring blocked.");var i=function(a,r){return e.emit(t,a,r)},o=function(e){var t=e.type,a=e.data,r=a||{},n=r.url;i("requestcompleted",{request_event_type:t,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:(0,u.extractHostname)(n)})};a.on("manifestLoaded",o);var s={},c=function(e){var t=e.type,r=e.fragmentModel,n=e.chunk,o=n||{},u=o.mediaInfo,l=u||{},c=l.type,f=l.bitrateList;f=f||[];var _={};f.forEach(function(e,t){_[t]={},_[t].width=e.width,_[t].height=e.height,_[t].bitrate=e.bandwidth,_[t].attrs={}}),"video"===c?s.video=_:"audio"===c?s.audio=_:s.media=_;var h=d(r,a),p=h.requestStart,v=h.requestResponseStart,m=h.requestResponseEnd,y=h.requestResponseHeaders,g=h.requestMediaDuration,b=h.requestHostname;i("requestcompleted",{request_event_type:t,request_start:p,request_response_start:v,request_response_end:m,request_bytes_loaded:-1,request_type:c+"_init",request_response_headers:y,request_hostname:b,request_media_duration:g,request_rendition_lists:s})};a.on("initFragmentLoaded",c);var f=function(e){var t=e.type,r=e.fragmentModel,n=e.chunk,o=n||{},s=o.mediaInfo,u=o.start,c=s||{},f=c.type,_=d(r,a),h=_.requestStart,p=_.requestResponseStart,v=_.requestResponseEnd,m=_.requestBytesLoaded,y=_.requestResponseHeaders,g=_.requestMediaDuration,b=_.requestHostname,w=l(f,a),T=w.currentLevel,E=w.renditionWidth,x=w.renditionHeight,k=w.renditionBitrate;i("requestcompleted",{request_event_type:t,request_start:h,request_response_start:p,request_response_end:v,request_bytes_loaded:m,request_type:f,request_response_headers:y,request_hostname:b,request_media_start_time:u,request_media_duration:g,request_current_level:T,request_labeled_bitrate:k,request_video_width:E,request_video_height:x})};a.on("mediaFragmentLoaded",f);var _={video:void 0,audio:void 0,totalBitrate:void 0},h=function(){if(_.video&&"number"==typeof _.video.bitrate){if(!_.video.width||!_.video.height)return void r.warn("have bitrate info for video but missing width/height");var e=_.video.bitrate;return _.audio&&"number"==typeof _.audio.bitrate&&(e+=_.audio.bitrate),e!==_.totalBitrate?(_.totalBitrate=e,{video_source_bitrate:e,video_source_height:_.video.height,video_source_width:_.video.width}):void 0}},p=function(e,t,n){if("number"!=typeof e.newQuality)return void r.warn("missing evt.newQuality in qualityChangeRendered event",e);var o=e.mediaType;if("audio"===o||"video"===o){var s=a.getBitrateInfoListFor(o).find(function(t){return t.qualityIndex===e.newQuality});if(!s||"number"!=typeof s.bitrate)return void r.warn("missing bitrate info for "+o);_[o]=s;var u=h();u&&i("renditionchange",u)}};a.on("qualityChangeRendered",p);var v=function(e){var t=e.error,a=e.event;a=a||{};var r=a.request||{},o=n.default.event&&n.default.event.currentTarget||{};i("requestfailed",{request_error:t+"_"+a.id+"_"+r.type,request_url:a.url,request_hostname:(0,u.extractHostname)(a.url),request_type:r.mediaType,request_error_code:o.status,request_error_type:o.statusText})};a.on("error",v),a._stopMuxMonitor=function(){a.off("manifestLoaded",o),a.off("initFragmentLoaded",c),a.off("mediaFragmentLoaded",f),a.off("qualityChangeRendered",p),a.off("error",v),delete a._stopMuxMonitor}},f=function(e){e&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor()};t.monitorDashJS=c,t.stopMonitoringDashJS=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){},i=0;r.prototype.on=function(e,t,a){return t._eventEmitterGuid=t._eventEmitterGuid||++i,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],a&&(t=t.bind(a)),this._listeners[e].push(t),t},r.prototype.off=function(e,t){var a=this._listeners&&this._listeners[e];a&&a.forEach(function(e,r){e._eventEmitterGuid===t._eventEmitterGuid&&a.splice(r,1)})},r.prototype.one=function(e,t,a){var r=this;t._eventEmitterGuid=t._eventEmitterGuid||++i;var n=function i(){r.off(e,i),t.apply(a||this,arguments)};n._eventEmitterGuid=t._eventEmitterGuid,this.on(e,n)},r.prototype.emit=function(e,t){var a=this;if(this._listeners){t=t||{};var r=this._listeners["before*"]||[],i=this._listeners[e]||[],n=this._listeners["after"+e]||[],o=function(t,r){t=t.slice(),t.forEach(function(t){t.call(a,{type:e},r)})};o(r,t),o(i,t),o(n,t)}},t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r),n=function(){this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,this.on("playing",function(){this._playheadShouldBeProgressing=!0}),this.on("play",this._startPlaybackHeartbeatInterval),this.on("playing",this._startPlaybackHeartbeatInterval),this.on("adbreakstart",this._startPlaybackHeartbeatInterval),this.on("adplay",this._startPlaybackHeartbeatInterval),this.on("adplaying",this._startPlaybackHeartbeatInterval),this.on("seeking",this._startPlaybackHeartbeatInterval),this.on("devicewake",this._startPlaybackHeartbeatInterval),this.on("viewstart",this._startPlaybackHeartbeatInterval),this.on("rebufferstart",this._startPlaybackHeartbeatInterval),this.on("pause",this._stopPlaybackHeartbeatInterval),this.on("ended",this._stopPlaybackHeartbeatInterval),this.on("viewend",this._stopPlaybackHeartbeatInterval),this.on("error",this._stopPlaybackHeartbeatInterval),this.on("aderror",this._stopPlaybackHeartbeatInterval),this.on("adpause",this._stopPlaybackHeartbeatInterval),this.on("adended",this._stopPlaybackHeartbeatInterval),this.on("adbreakend",this._stopPlaybackHeartbeatInterval),this.on("seeked",function(){this.data.player_is_paused?this._stopPlaybackHeartbeatInterval():this._startPlaybackHeartbeatInterval()}),this.on("timeupdate",function(){null!==this._playbackHeartbeatInterval&&this.emit("playbackheartbeat")}),this.on("devicesleep",function(e,t){null!==this._playbackHeartbeatInterval&&(i.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend",{viewer_time:t.viewer_time}),this._playbackHeartbeatInterval=null)})};n.prototype._startPlaybackHeartbeatInterval=function(){var e=this;null===this._playbackHeartbeatInterval&&(this.emit("playbackheartbeat"),this._playbackHeartbeatInterval=i.default.setInterval(function(){e.emit("playbackheartbeat")},this.playbackHeartbeatTime))},n.prototype._stopPlaybackHeartbeatInterval=function(){this._playheadShouldBeProgressing=!1,null!==this._playbackHeartbeatInterval&&(i.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)},t.default=n},function(e,t,a){"use strict";function r(){var e=this;this.on("viewinit",function(){e.viewErrored=!1}),this.on("error",function(){try{var t=e.errorTranslator({player_error_code:e.data.player_error_code,player_error_message:e.data.player_error_message});t?(e.data.player_error_code=t.player_error_code,e.data.player_error_message=t.player_error_message,e.viewErrored=!0):(delete e.data.player_error_code,delete e.data.player_error_message)}catch(t){e.mux.log.warn("Exception in error translator callback.",t),e.viewErrored=!0}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(3),i=function(e){return e&&e.__esModule?e:{default:e}}(r),n=function(){this._watchTimeTrackerLastCheckedTime=null,this.on("playbackheartbeat",this._updateWatchTime),this.on("playbackheartbeatend",this._clearWatchTimeState)};n.prototype._updateWatchTime=function(e,t){var a=t.viewer_time;null===this._watchTimeTrackerLastCheckedTime&&(this._watchTimeTrackerLastCheckedTime=a),(0,i.default)(this.data,"view_watch_time",a-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=a},n.prototype._clearWatchTimeState=function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null},t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(3),i=function(e){return e&&e.__esModule?e:{default:e}}(r),n=function(){this._playbackTimeTrackerLastPlayheadPosition=-1,this.on("playbackheartbeat",this._updatePlaybackTime),this.on("playbackheartbeatend",this._clearPlaybackTimeState),this.on("seeking",this._clearPlaybackTimeState)};n.prototype._updatePlaybackTime=function(){var e=this.data.player_playhead_time;if(this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition){var t=e-this._playbackTimeTrackerLastPlayheadPosition;t<=1e3&&(0,i.default)(this.data,"view_content_playback_time",t)}this._playbackTimeTrackerLastPlayheadPosition=e},n.prototype._clearPlaybackTimeState=function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1},t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){this.on("playbackheartbeat",this._updatePlayheadTime),this.on("playbackheartbeatend",this._updatePlayheadTime),this.on("timeupdate",this._updatePlayheadTime),this.on("destroy",function(){this.off("timeupdate",this._updatePlayheadTime)})};r.prototype._updateMaxPlayheadPosition=function(){this.data.view_max_playhead_position=void 0===this.data.view_max_playhead_position?this.data.player_playhead_time:Math.max(this.data.view_max_playhead_position,this.data.player_playhead_time)},r.prototype._updatePlayheadTime=function(e,t){var a=this,r=function(){a.currentFragmentPDT&&a.currentFragmentStart&&(a.data.player_program_time=a.currentFragmentPDT+a.data.player_playhead_time-a.currentFragmentStart)};if(t&&t.player_playhead_time)this.data.player_playhead_time=t.player_playhead_time,r(),this._updateMaxPlayheadPosition();else if(this.getPlayheadTime){var i=this.getPlayheadTime();void 0!==i&&(this.data.player_playhead_time=i,r(),this._updateMaxPlayheadPosition())}},t.default=r},function(e,t,a){"use strict";function r(){var e=this;if(!this.disableRebufferTracking){var t=void 0,a=function(){if(t){var a=e.data.viewer_time-t;(0,n.default)(e.data,"view_rebuffer_duration",a),t=e.data.viewer_time}e.data.view_watch_time>=0&&e.data.view_rebuffer_count>0&&(e.data.view_rebuffer_frequency=e.data.view_rebuffer_count/e.data.view_watch_time,e.data.view_rebuffer_percentage=e.data.view_rebuffer_duration/e.data.view_watch_time)};this.on("playbackheartbeat",function(){return a()}),this.on("rebufferstart",function(){t||((0,n.default)(e.data,"view_rebuffer_count",1),t=e.data.viewer_time,e.one("rebufferend",function(){a(),t=void 0}))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(3),n=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),n=function(){this.disableRebufferTracking||this.disablePlayheadRebufferTracking||(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,this.on("playbackheartbeat",this._checkIfRebuffering),this.on("playbackheartbeatend",this._cleanupRebufferTracker),this.on("seeking",function(){this._cleanupRebufferTracker(null,{viewer_time:i.default.now()})}))};n.prototype._checkIfRebuffering=function(e,t){return this.isSeeking||this.isAdBreak||!this._playheadShouldBeProgressing?void this._cleanupRebufferTracker(e,t):null===this._lastCheckedTime?void this._prepareRebufferTrackerState(t.viewer_time):this._lastPlayheadTime!==this.data.player_playhead_time?void this._cleanupRebufferTracker(e,t,!0):(t.viewer_time-this._lastPlayheadTimeUpdatedTime>=this.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),void(this._lastCheckedTime=t.viewer_time))},n.prototype._clearRebufferTrackerState=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null},n.prototype._prepareRebufferTrackerState=function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e},n.prototype._cleanupRebufferTracker=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this.emit("rebufferend",{viewer_time:t.viewer_time});else{if(null===this._lastCheckedTime)return;var r=this.data.player_playhead_time-this._lastPlayheadTime,i=t.viewer_time-this._lastPlayheadTimeUpdatedTime;r>0&&i-r>this.minimumRebufferDuration&&(this.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+i-r}))}a?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()},t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r),n=function(){this.on("viewinit",function(){var e=this.data,t=e.view_id;if(!e.view_program_changed){var a=function(e,a){var r=a.viewer_time;"playing"===e.type&&void 0===this.data.view_time_to_first_frame?this.calculateTimeToFirstFrame(r||i.default.now(),t):"adplaying"!==e.type||void 0!==this.data.view_time_to_first_frame&&!this.inPrerollPosition()||this.calculateTimeToFirstFrame(r||i.default.now(),t)};this.one("playing",a),this.one("adplaying",a),this.one("viewend",function(){this.off("playing",a),this.off("adplaying",a)})}})};n.prototype.calculateTimeToFirstFrame=function(e,t){t===this.data.view_id&&(this._updateWatchTime(null,{viewer_time:e}),this.data.view_time_to_first_frame=this.data.view_watch_time,(this.data.player_autoplay_on||this.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.data.view_aggregate_startup_time=this.data.view_start+this.data.view_watch_time-this.NAVIGATION_START))},t.default=n},function(e,t,a){"use strict";function r(){var e=this;this.on("viewinit",function(){this._lastPlayheadPosition=-1});var t=["pause","rebufferstart","seeking","error","adbreakstart","hb"],a=["playing","hb"];t.forEach(function(t){e.on(t,function(){if(this._lastPlayheadPosition>=0&&this.data.player_playhead_time>=0&&this._lastPlayerWidth>=0&&this._lastSourceWidth>0&&this._lastPlayerHeight>=0&&this._lastSourceHeight>0){var e=this.data.player_playhead_time-this._lastPlayheadPosition;if(e<0)return void(this._lastPlayheadPosition=-1);var t=Math.min(this._lastPlayerWidth/this._lastSourceWidth,this._lastPlayerHeight/this._lastSourceHeight),a=Math.max(0,t-1),r=Math.max(0,1-t);this.data.view_max_upscale_percentage=Math.max(this.data.view_max_upscale_percentage||0,a),this.data.view_max_downscale_percentage=Math.max(this.data.view_max_downscale_percentage||0,r),(0,n.default)(this.data,"view_total_content_playback_time",e),(0,n.default)(this.data,"view_total_upscaling",a*e),(0,n.default)(this.data,"view_total_downscaling",r*e)}this._lastPlayheadPosition=-1})}),a.forEach(function(t){e.on(t,function(){this._lastPlayheadPosition=this.data.player_playhead_time,this._lastPlayerWidth=this.data.player_width,this._lastPlayerHeight=this.data.player_height,this._lastSourceWidth=this.data.video_source_width,this._lastSourceHeight=this.data.video_source_height})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(3),n=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){this.isSeeking=!1,this.on("seeking",function(e,t){(0,l.default)(this.data,t),this._lastSeekingTime=o.default.now(),!1===this.isSeeking&&(this.isSeeking=!0,this.send("seeking"))}),this.on("seeked",function(){this.isSeeking=!1;var e=this._lastSeekingTime||o.default.now(),t=o.default.now()-e;(0,u.default)(this.data,"view_seek_count",1),(0,u.default)(this.data,"view_seek_duration",t);var a=this.data.view_max_seek_time||0;this.data.view_max_seek_time=Math.max(a,t)}),this.on("viewend",function(){this.isSeeking=!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(2),o=r(n),s=a(3),u=r(s),d=a(1),l=r(d)},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var a=[],r=!0,i=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){i=!0,n=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=a(3),o=r(n),s=a(5),u=a(1),d=r(u),l=function(e,t){e.push(t),e.sort(function(e,t){return e.viewer_time-t.viewer_time})},c=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],f=function(){var e=this;this.on("viewinit",function(){this.isAdBreak=!1,this._currentAdRequestNumber=0,this._currentAdResponseNumber=0,this._adRequests=[],this._adResponses=[],this._adHasPlayed=!1,this._wouldBeNewAdPlay=!0,this._prerollPlayTime=void 0}),c.forEach(function(t){return e.on(t,e._updateAdData)});var t=function(){e.isAdBreak=!1};this.on("adbreakstart",function(){this.isAdBreak=!0}),this.on("play",t),this.on("playing",t),this.on("viewend",t),this.on("adrequest",function(e,t){t=(0,d.default)({ad_request_id:"generatedAdRequestId"+this._currentAdRequestNumber++},t),l(this._adRequests,t),(0,o.default)(this.data,"view_ad_request_count"),this.inPrerollPosition()&&(this.data.view_preroll_requested=!0,this._adHasPlayed||(0,o.default)(this.data,"view_preroll_request_count"))}),this.on("adresponse",function(e,t){t=(0,d.default)({ad_request_id:"generatedAdRequestId"+this._currentAdResponseNumber++},t),l(this._adResponses,t);var a=this.findAdRequest(t.ad_request_id);a&&(0,o.default)(this.data,"view_ad_request_time",Math.max(0,t.viewer_time-a.viewer_time))}),this.on("adplay",function(e,t){this._adHasPlayed=!0,this._wouldBeNewAdPlay&&(this._wouldBeNewAdPlay=!1,(0,o.default)(this.data,"view_ad_played_count")),this.inPrerollPosition()&&!this.data.view_preroll_played&&(this.data.view_preroll_played=!0,this._adRequests.length>0&&(this.data.view_preroll_request_time=Math.max(0,t.viewer_time-this._adRequests[0].viewer_time)),this.data.view_start&&(this.data.view_startup_preroll_request_time=Math.max(0,t.viewer_time-this.data.view_start)),this._prerollPlayTime=t.viewer_time)}),this.on("adplaying",function(e,t){this.inPrerollPosition()&&void 0===this.data.view_preroll_load_time&&void 0!==this._prerollPlayTime&&(this.data.view_preroll_load_time=t.viewer_time-this._prerollPlayTime,this.data.view_startup_preroll_load_time=t.viewer_time-this._prerollPlayTime)}),this.on("adended",function(){this._wouldBeNewAdPlay=!0}),this.on("aderror",function(){this._wouldBeNewAdPlay=!0})};f.prototype.inPrerollPosition=function(){return void 0===this.data.view_content_playback_time||this.data.view_content_playback_time<=1e3},f.prototype.findAdRequest=function(e){for(var t=0;t<this._adRequests.length;t++)if(this._adRequests[t].ad_request_id===e)return this._adRequests[t]},f.prototype._updateAdData=function(e,t){if(this.inPrerollPosition()){if(!this.data.view_preroll_ad_tag_hostname&&t.ad_tag_url){var a=(0,s.extractHostnameAndDomain)(t.ad_tag_url),r=i(a,2),n=r[0],o=r[1];this.data.view_preroll_ad_tag_domain=o,this.data.view_preroll_ad_tag_hostname=n}if(!this.data.view_preroll_ad_asset_hostname&&t.ad_asset_url){var u=(0,s.extractHostnameAndDomain)(t.ad_asset_url),d=i(u,2),l=d[0],c=d[1];this.data.view_preroll_ad_asset_domain=c,this.data.view_preroll_ad_asset_hostname=l}}},t.default=f},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=this,t=void 0,a=void 0,r=function(){e.disableRebufferTracking||((0,u.default)(e.data,"view_waiting_rebuffer_count",1),t=o.default.now(),a=window.setInterval(function(){if(t){var a=o.default.now();(0,u.default)(e.data,"view_waiting_rebuffer_duration",a-t),t=a}},250))},i=function(){e.disableRebufferTracking||t&&((0,u.default)(e.data,"view_waiting_rebuffer_duration",o.default.now()-t),t=!1,window.clearInterval(a))},n=!1,s=function(){n=!0},d=function(){n=!1,i()};this.on("waiting",function(){n&&r()}),this.on("playing",function(){i(),s()}),this.on("pause",d),this.on("seeking",d)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(2),o=r(n),s=a(3),u=r(s)},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=this;this.one("playbackheartbeat",d),this.on("playbackheartbeatend",function(){e.off("before*",l),e.one("playbackheartbeat",d)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(1),o=r(n),s=a(2),u=r(s),d=function(){this.lastWallClockTime=u.default.now(),this.on("before*",l)},l=function(e){var t=u.default.now(),a=this.lastWallClockTime;this.lastWallClockTime=t,t-a>3e4&&(this.emit("devicesleep",{viewer_time:a}),(0,o.default)(this.data,{viewer_time:a}),this.send("devicesleep"),this.emit("devicewake",{viewer_time:t}),(0,o.default)(this.data,{viewer_time:t}),this.send("devicewake"))}},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=a(0),o=r(n),s=a(35),u=a(4),d=r(u),l=a(38),c=r(l),f=a(10),_=r(f),h=a(39),p=r(h),v=a(13),m=r(v),y=a(40),g=r(y),b=a(1),w=r(b),T=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id"],E=["viewstart","error","ended","viewend"],x=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.mux=e,this.envKey=t,this.eventQueue=new g.default((0,c.default)(t,a)),this.previousBeaconData=null,this.lastEventTime=null,this.sampleRate=a.sampleRate,this.disableCookies=a.disableCookies,this.respectDoNotTrack=a.respectDoNotTrack;var r=a.platform||{};this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:r.name,viewer_application_version:r.version,viewer_application_engine:r.layout,viewer_device_name:r.product,viewer_device_category:"",viewer_device_manufacturer:r.manufacturer,viewer_os_family:r.os&&r.os.family,viewer_os_architecture:r.os&&r.os.architecture,viewer_os_version:r.os&&r.os.version};var i=(0,p.default)();i&&(this.pageLevelData=(0,w.default)(this.pageLevelData,{viewer_connection_type:i})),void 0!==o.default&&o.default.location&&o.default.location.href&&(this.pageLevelData.page_url=o.default.location.href),this.viewerData=this.disableCookies?{}:(0,s.getAndUpdateViewerData)()};x.prototype.send=function(e,t){if(e){if(this.respectDoNotTrack&&(0,_.default)())return d.default.info("Not sending `"+e+"` because Do Not Track is enabled");if(!t||"object"!==(void 0===t?"undefined":i(t)))return d.default.error("A data object was expected in send() but was not provided");var a=this.disableCookies?{}:(0,s.getAndUpdateSessionData)(),r={};(0,w.default)(r,this.pageLevelData),(0,w.default)(r,t),(0,w.default)(r,a),(0,w.default)(r,this.viewerData),r.event=e,r.env_key=this.envKey,r.user_id&&(r.viewer_user_id=r.user_id,delete r.user_id);var n=r.mux_sample_number>=this.sampleRate,o=this._deduplicateBeaconData(e,r),u=(0,m.default)(o);if(this.lastEventTime=this.mux.utils.now(),n)return d.default.info("Not sending event due to sample rate restriction",e,r,u);if(this.envKey||d.default.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",e,r,u),!this.rateLimited)if(d.default.info("Sending event",e,r,u),this.rateLimited=!this.eventQueue.queueEvent(e,u),this.mux.WINDOW_UNLOADING&&"viewend"===e)this.eventQueue.destroy(!0);else if((E.indexOf(e)>=0||!1===this.mux.WINDOW_VISIBLE&&"hb"===e)&&this.eventQueue.flushEvents(),this.rateLimited)return r.event="eventrateexceeded",u=(0,m.default)(r),this.eventQueue.queueEvent(r.event,u),d.default.error("Beaconing disabled due to rate limit.")}},x.prototype.destroy=function(){this.eventQueue.destroy(!1)};var k=function(e,t,a,r){return!(!e||0!==t.indexOf("request_")||"request_response_headers"!==t&&"object"===(void 0===a?"undefined":i(a))&&"object"===(void 0===r?"undefined":i(r))&&Object.keys(a||{}).length===Object.keys(r||{}).length)},D=function(e,t){return"renditionchange"===e&&0===t.indexOf("video_source_")};x.prototype._deduplicateBeaconData=function(e,t){var a=this,r={},i=t.view_id;if(!i||"viewstart"===e||"viewend"===e||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=6e5)r=(0,w.default)({},t),i&&(this.previousBeaconData=r),i&&"viewend"===e&&(this.previousBeaconData=null);else{var n=0===e.indexOf("request");Object.keys(t).forEach(function(i){var o=t[i];(o!==a.previousBeaconData[i]||T.indexOf(i)>-1||k(n,i,o,a.previousBeaconData[i])||D(e,i))&&(r[i]=o,a.previousBeaconData[i]=o)})}return r},t.default=x},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAndUpdateSessionData=t.getAndUpdateViewerData=void 0;var i=a(36),n=r(i),o=a(37),s=r(o),u=a(6),d=a(2),l=r(d),c=function(){var e=void 0;try{e=n.default.parse(s.default.get("muxData")||"")}catch(t){e={}}return e},f=function(e){try{s.default.set("muxData",n.default.stringify(e),{expires:7300})}catch(e){}},_=function(){var e=c();return e.mux_viewer_id=e.mux_viewer_id||(0,u.generateUUID)(),e.msn=e.msn||Math.random(),f(e),{mux_viewer_id:e.mux_viewer_id,mux_sample_number:e.msn}},h=function(){var e=c(),t=l.default.now();return e.session_start&&(e.sst=e.session_start,delete e.session_start),e.session_id&&(e.sid=e.session_id,delete e.session_id),e.session_expires&&(e.sex=e.session_expires,delete e.session_expires),(!e.sex||e.sex<t)&&(e.sid=(0,u.generateUUID)(),e.sst=t),e.sex=t+15e5,f(e),{session_id:e.sid,session_start:e.sst,session_expires:e.sex}};t.getAndUpdateViewerData=_,t.getAndUpdateSessionData=h},function(e,t,a){"use strict";function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function i(e){try{return encodeURIComponent(e)}catch(e){return null}}function n(e){for(var t,a=/([^=?#&]+)=?([^&]*)/g,i={};t=a.exec(e);){var n=r(t[1]),o=r(t[2]);null===n||null===o||n in i||(i[n]=o)}return i}function o(e,t){t=t||"";var a,r,n=[];"string"!=typeof t&&(t="?");for(r in e)if(u.call(e,r)){if(a=e[r],a||null!==a&&a!==s&&!isNaN(a)||(a=""),r=i(r),a=i(a),null===r||null===a)continue;n.push(r+"="+a)}return n.length?t+n.join("&"):""}var s,u=Object.prototype.hasOwnProperty;t.stringify=o,t.parse=n},function(e,t,a){"use strict";var r,i,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o){var s=!1;if(r=o,void 0!==(i="function"==typeof r?r.call(t,a,t,e):r)&&(e.exports=i),s=!0,"object"===n(t)&&(e.exports=o(),s=!0),!s){var u=window.Cookies,d=window.Cookies=o();d.noConflict=function(){return window.Cookies=u,d}}}(function(){function e(a){function r(e,i,n){var o;if("undefined"!=typeof document){if(arguments.length>1){if(n=t({path:"/"},r.defaults,n),"number"==typeof n.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*n.expires),n.expires=s}try{o=JSON.stringify(i),/^[\{\[]/.test(o)&&(i=o)}catch(e){}return i=a.write?a.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",i,n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}e||(o={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,l=0;l<u.length;l++){var c=u[l].split("="),f=c.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{var _=c[0].replace(d,decodeURIComponent);if(f=a.read?a.read(f,_):a(f,_)||f.replace(d,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(e){}if(e===_){o=f;break}e||(o[_]=f)}catch(e){}}return o}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,a){r(e,"",t(a,{expires:-1}))},r.withConverter=e,r}var t=function(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var r in a)t[r]=a[r]}return t};return e(function(){})})},function(e,t,a){"use strict";function r(e,t){var a=t.beaconCollectionDomain,r=t.beaconDomain;if(a)return"https://"+a;e=e||"inferred";var i=r||"litix.io";return e.match(/^[a-z0-9]+$/)?"https://"+e+"."+i:"https://img.litix.io/a.gif"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r),n=function(){var e=void 0;switch(o()){case"cellular":e="cellular";break;case"ethernet":e="wired";break;case"wifi":e="wifi";break;case void 0:break;default:e="other"}return e},o=function(){var e=i.default.navigator,t=e&&(e.connection||e.mozConnection||e.webkitConnection);return t&&t.type};t.default=n},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),n=r(i),o=a(4),s=r(o),u=a(1),d=r(u),l=a(13),c=r(l),f=a(2),_=r(f),h=!!n.default.XMLHttpRequest&&"withCredentials"in new n.default.XMLHttpRequest,p={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},v=["hb","requestcompleted","requestfailed","requestcanceled"],m=function(e,t){this._beaconUrl=e||"https://img.litix.io",this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=(0,d.default)({},p,t)};m.prototype.queueEvent=function(e,t){var a=(0,d.default)({},t);return!h||(this._eventQueue.length<=this._options.maxQueueLength||"eventrateexceeded"===e)&&(this._eventQueue.push(a),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength)},m.prototype.flushEvents=function(){h&&(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},m.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyed=!0,e?this._clearBeaconQueue():this.flushEvents(),n.default.clearTimeout(this._sendTimeout)},m.prototype._clearBeaconQueue=function(){var e=n.default.navigator,t=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,a=this._eventQueue.slice(t);t>0&&(0,d.default)(a[a.length-1],(0,c.default)({mux_view_message:"event queue truncated"}));var r=this._createPayload(a);if(e.sendBeacon)e.sendBeacon(this._beaconUrl,r);else if(h){var i=new n.default.XMLHttpRequest;i.open("POST",this._beaconUrl),i.setRequestHeader("Content-Type","application/json"),i.send(r)}},m.prototype._sendBeaconQueue=function(){var e=this;if(n.default.XMLHttpRequest&&!this._postInFlight){var t=new n.default.XMLHttpRequest,a=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0,t.onreadystatechange=function(){4===t.readyState&&(200!==t.status?(e._eventQueue=a.concat(e._eventQueue),e._failureCount+=1,s.default.info("Error sending beacon: "+t.status),s.default.info(t.responseText)):e._failureCount=0,e._roundTripTime=_.default.now()-i,e._postInFlight=!1)},t.open("POST",this._beaconUrl),t.setRequestHeader("Content-Type","application/json");var r=this._createPayload(a),i=_.default.now();t.send(r)}},m.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var e=Math.pow(2,this._failureCount-1);return(1+(e*=Math.random()))*this._options.baseTimeBetweenBeacons},m.prototype._startBeaconSending=function(){var e=this;n.default.clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=n.default.setTimeout(function(){e._eventQueue.length&&e._sendBeaconQueue(),e._startBeaconSending()},this._getNextBeaconTime()))},m.prototype._createPayload=function(e){var t=this,a={transmission_timestamp:Math.round(_.default.now())};this._roundTripTime&&(a.rtt_ms=Math.round(this._roundTripTime));var r=void 0,i=void 0,n=void 0,o=function(){r=JSON.stringify({metadata:a,events:i||e}),n=r.length/1024},u=function(){return n<=t._options.maxPayloadKBSize};return o(),u()||(s.default.info("Payload size is too big ("+n+" kb). Removing unnecessary events."),i=e.filter(function(e){return-1===v.indexOf(e.e)}),o()),u()||(s.default.info("Payload size still too big ("+n+" kb). Cropping fields.."),i.forEach(function(e){for(var t in e){var a=e[t];"string"==typeof a&&a.length>51200&&(e[t]=a.substring(0,51200))}}),o()),r},t.default=m},function(e,t,a){"use strict";function r(){function e(e,t){var a=t.request_start,u=t.request_response_start,d=t.request_response_end,l=t.request_bytes_loaded;o++;var c=void 0,f=void 0;if(u?(c=u-a,f=d-u):f=d-a,f>0&&l>0){var _=l/f*8e3;s++,i+=l,n+=f,this.data.view_min_request_throughput=Math.min(this.data.view_min_request_throughput||1/0,_),this.data.view_average_request_throughput=i/n*8e3,this.data.view_request_count=o,c>0&&(r+=c,this.data.view_max_request_latency=Math.max(this.data.view_max_request_latency||0,c),this.data.view_average_request_latency=r/s)}}function t(e,t){o++,u++,this.data.view_request_count=o,this.data.view_request_failed_count=u}function a(e,t){o++,d++,this.data.view_request_count=o,this.data.view_request_canceled_count=d}var r=0,i=0,n=0,o=0,s=0,u=0,d=0;this.on("requestcompleted",e),this.on("requestfailed",t),this.on("requestcanceled",a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(){var e=this;this.on("before*",function(t,a){var r=a.viewer_time,n=d.default.now(),o=e._lastEventTime;if(e._lastEventTime=n,o&&n-o>l){var u=Object.keys(e.data).reduce(function(t,a){return 0===a.indexOf("video_")?(0,s.default)(t,i({},a,e.data[a])):t},{});e.mux.log.info("Received event after at least an hour inactivity, creating a new view"),e.emit("viewinit",(0,s.default)({viewer_time:r},u)),e._playheadShouldBeProgressing&&"play"!==t.type&&"adbreakstart"!==t.type&&(e.emit("play",{viewer_time:r}),"playing"!==t.type&&e.emit("playing",{viewer_time:r}))}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o=a(1),s=r(o),u=a(2),d=r(u),l=36e5},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a){var r=(0,d.findMediaElement)(t),i=o(r,3),s=i[0],l=i[1],h=i[2],p=e.log,v=e.utils.getComputedStyle,m=e.utils.secondsToMs,y={automaticErrorTracking:!0};if(!s)return p.error("No element was found with the `"+l+"` query selector.");if("video"!==h&&"audio"!==h)return p.error("The element of `"+l+"` was not a media element.");a=(0,u.default)(y,a),a.data=(0,u.default)({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:"4.12.0"},a.data),a.getPlayheadTime=function(){return m(s.currentTime)},a.getStateData=function(){var e=this.hlsjs&&this.hlsjs.url,t=this.dashjs&&n("function"===this.dashjs.getSource)&&this.dashjs.getSource(),r={player_is_paused:s.paused,player_playhead_time:m(s.currentTime),player_width:parseInt(v(s,"width")),player_height:parseInt(v(s,"height")),player_autoplay_on:s.autoplay,player_preload_on:s.preload,player_language_code:s.lang,player_is_fullscreen:(0,c.default)(),video_poster_url:s.poster,video_source_url:e||t||s.currentSrc,video_source_duration:m(s.duration),video_source_height:s.videoHeight,video_source_width:s.videoWidth},i=a.getPlayheadTime();if(s.getStartDate&&i>0){var o=s.getStartDate();if(o&&"function"==typeof o.getTime&&o.getTime()){var u=o.getTime();if(r.player_program_time=u+i,s.seekable.length>0){var d=u+s.seekable.end(s.seekable.length-1);r.player_live_edge_program_time=d}}}return r},s.mux=s.mux||{},s.mux.deleted=!1,s.mux.emit=function(t,a){e.emit(l,t,a)};var g=function(){p.error("The monitor for this video element has already been destroyed.")};s.mux.destroy=function(){Object.keys(s.mux.listeners).forEach(function(e){s.removeEventListener(e,s.mux.listeners[e],!1)}),delete s.mux.listeners,s.mux.destroy=g,s.mux.swapElement=g,s.mux.emit=g,s.mux.addHLSJS=g,s.mux.addDashJS=g,s.mux.removeHLSJS=g,s.mux.removeDashJS=g,s.mux.deleted=!0,e.emit(l,"destroy")},s.mux.swapElement=function(t){var a=(0,d.findMediaElement)(t),r=o(a,3),i=r[0],n=r[1],l=r[2];return i?"video"!==l&&"audio"!==l?e.log.error("The element of `"+n+"` was not a media element."):(i.muxId=s.muxId,delete s.muxId,i.mux=i.mux||{},i.mux.listeners=(0,u.default)({},s.mux.listeners),delete s.mux.listeners,Object.keys(i.mux.listeners).forEach(function(e){s.removeEventListener(e,i.mux.listeners[e],!1),i.addEventListener(e,i.mux.listeners[e],!1)}),i.mux.swapElement=s.mux.swapElement,i.mux.destroy=s.mux.destroy,delete s.mux,void(s=i)):e.log.error("No element was found with the `"+n+"` query selector.")},s.mux.addHLSJS=function(t){e.addHLSJS(l,t)},s.mux.addDashJS=function(t){e.addDashJS(l,t)},s.mux.removeHLSJS=function(){e.removeHLSJS(l)},s.mux.removeDashJS=function(){e.removeDashJS(l)},e.init(l,a),e.emit(l,"playerready"),s.paused||(e.emit(l,"play"),s.readyState>2&&e.emit(l,"playing")),s.mux.listeners={},f.forEach(function(t){("error"!==t||a.automaticErrorTracking)&&(s.mux.listeners[t]=function(){var a={};if("error"===t){if(!s.error)return;if(1===s.error.code)return;a.player_error_code=s.error.code,a.player_error_message=_[s.error.code]||s.error.message}e.emit(l,t,a)},s.addEventListener(t,s.mux.listeners[t],!1))})}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){var a=[],r=!0,i=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){i=!0,n=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=i;var s=a(1),u=r(s),d=a(9),l=a(44),c=r(l),f=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],_={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"}},function(e,t,a){"use strict";function r(){return n.default&&!!(n.default.fullscreenElement||n.default.webkitFullscreenElement||n.default.mozFullScreenElement||n.default.msFullscreenElement)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(45),n=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,a){(function(t){var r,i=void 0!==t?t:"undefined"!=typeof window?window:{},n=a(46);"undefined"!=typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=n),e.exports=r}).call(t,a(8))},function(e,t){},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(48),n=r(i),o=a(3),s=r(o),u=a(49),d=r(u),l=a(50),c=r(l),f=a(1),_=r(f),h=a(7),p=r(h),v=a(5),m=a(2),y=r(m),g=a(51),b=r(g),w=a(6),T={};T.safeCall=n.default,T.safeIncrement=s.default,T.getComputedStyle=d.default,T.secondsToMs=c.default,T.assign=_.default,T.headersStringToObject=p.default,T.extractHostnameAndDomain=v.extractHostnameAndDomain,T.extractHostname=v.extractHostname,T.now=y.default.now,T.manifestParser=b.default,T.generateShortID=w.generateShortID,T.generateUUID=w.generateUUID,t.default=T},function(e,t,a){"use strict";function r(e,t,a,r){var i=r;if(e&&"function"==typeof e[t])try{i=e[t].apply(e,a)}catch(e){n.default.info("safeCall error",e)}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(4),n=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,a){"use strict";function r(e,t){if(e&&t&&n.default&&"function"==typeof n.default.getComputedStyle){var a=void 0;return o&&o.has(e)&&(a=o.get(e)),a||(a=n.default.getComputedStyle(e,null),o&&o.set(e,a)),a.getPropertyValue(t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=a(0),n=function(e){return e&&e.__esModule?e:{default:e}}(i),o=void 0;n.default&&n.default.WeakMap&&(o=new WeakMap)},function(e,t,a){"use strict";function r(e){return Math.floor(1e3*e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(1),n=r(i),o=a(12),s=r(o),u={TARGET_DURATION:"#EXT-X-TARGETDURATION",PART_INF:"#EXT-X-PART-INF",SERVER_CONTROL:"#EXT-X-SERVER-CONTROL",INF:"#EXTINF",PROGRAM_DATE_TIME:"#EXT-X-PROGRAM-DATE-TIME",VERSION:"#EXT-X-VERSION",SESSION_DATA:"#EXT-X-SESSION-DATA"},d=function(e){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(e),this.manifest};d.prototype.process=function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.processLine(this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},d.prototype.processLine=function(e){var t=e.indexOf(":"),a=v(e,t),r=a[0],i=2===a.length?f(a[1]):void 0;if("#"!==r[0])this.currentUri.uri=r,this.manifest.segments.push(this.currentUri),!this.manifest.targetDuration||"duration"in this.currentUri||(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(r){case u.TARGET_DURATION:if(!isFinite(i)||i<0)return;this.manifest.targetDuration=i,this.setHoldBack();break;case u.PART_INF:l(this.manifest,a),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break;case u.SERVER_CONTROL:l(this.manifest,a),this.setHoldBack();break;case u.INF:0===i?this.currentUri.duration=.01:i>0&&(this.currentUri.duration=i);break;case u.PROGRAM_DATE_TIME:var o=i,d=new Date(o);this.manifest.dateTimeString||(this.manifest.dateTimeString=o,this.manifest.dateTimeObject=d),this.currentUri.dateTimeString=o,this.currentUri.dateTimeObject=d;break;case u.VERSION:l(this.manifest,a);break;case u.SESSION_DATA:var c=m(a[1]),_=(0,s.default)(c);(0,n.default)(this.manifest.sessionData,_)}},d.prototype.setHoldBack=function(){var e=this.manifest,t=e.serverControl,a=e.targetDuration,r=e.partTargetDuration;if(t){var i="holdBack",n="partHoldBack",o=a&&3*a,s=r&&2*r;a&&!t.hasOwnProperty(i)&&(t[i]=o),o&&t[i]<o&&(t[i]=o),r&&!t.hasOwnProperty(n)&&(t[n]=3*r),r&&t[n]<s&&(t[n]=s)}};var l=function(e,t){var a=c(t[0].replace("#EXT-X-","")),r=void 0;p(t[1])?(r={},r=(0,n.default)(h(t[1]),r)):r=f(t[1]),e[a]=r},c=function(e){return e.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})},f=function(e){if("yes"===e.toLowerCase()||"no"===e.toLowerCase())return"yes"===e.toLowerCase();var t=-1!==e.indexOf(":")?e:parseFloat(e);return isNaN(t)?e:t},_=function(e){var t={},a=e.split("=");return a.length>1&&(t[c(a[0])]=f(a[1])),t},h=function(e){for(var t=e.split(","),a={},r=0;t.length>r;r++){var i=t[r],o=_(i);a=(0,n.default)(o,a)}return a},p=function(e){return e.indexOf("=")>-1},v=function(e,t){return-1===t?[e]:[e.substring(0,t),e.substring(t+1)]},m=function(e){var t={};if(e){var a=e.search(",");return[e.slice(0,a),e.slice(a+1)].forEach(function(e,a){for(var r=e.replace(/['"]+/g,"").split("="),i=0;i<r.length;i++)"DATA-ID"===r[i]&&(t["DATA-ID"]=r[1-i]),"VALUE"===r[i]&&(t.VALUE=r[1-i])}),{data:t}}};t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled"};t.default=r}])})}()}])});})();
